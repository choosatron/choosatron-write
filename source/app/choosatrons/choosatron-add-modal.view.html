<div ng-controller="ChoosatronAddModalCtrl as vm" class="dialog-contents">
	<div class="animate-switch-container" ng-switch on="vm.state">

		<div class="animate-switch" ng-switch-when="state_no_cloud">
			<div align="center"><h2><span class="label label-warning">No Cloud Account</span></h2></div><br>
			<p>WiFi features are only available with a cloud account.</p>
			<p>
				<button type="button" class="btn btn-primary" ng-click="vm.state = 'state_cloud_auth'">Setup Cloud</button>
				<button type="button" class="btn btn-default" ng-click="vm.state = 'state_add'">Not Now</button>
				<button type="button" class="btn btn-link" ng-click="vm.cancel()">Cancel</button>
			</p>
		</div>

		<div class="animate-switch" ng-switch-when="plugin">
			<h2>Okay! First Step: Plug a USB cable into your Choosatron and this computer</h2>

			<p>
				<button type="button" class="btn btn-primary" ng-click="vm.scanForDevices()">Ready!</button>
				<button type="button" class="btn btn-link" ng-click="vm.cancel()">Cancel</button>
			</p>
		</div>

		<div class="animate-switch" ng-switch-when="scanning">
			<h2>Scanning for Available Choosatrons...</h2>
		</div>

		<div class="animate-switch" ng-switch-when="state_cloud_auth">
			<h2>Cloud Auth</h2>
			<div ng-include="'templates/cloud-auth-modal.view.html'"></div>
			<button type="button" class="btn btn-primary" ng-click="vm.state = 'state_add'">Next</button>
		</div>

		<div class="animate-switch" ng-switch-when="state_add">
			<h2>New device setup or adding an existing device?</h2>
			<p>
				<button type="button" class="btn btn-primary" ng-click="vm.startClaim()">New</button>
				<button type="button" class="btn btn-primary" ng-click="vm.state = 'state_connect'">Add</button>
				<button type="button" class="btn btn-link" ng-click="vm.cancel()">Cancel</button>
			</p>
		</div>


		<div class="animate-switch" ng-switch-when="state_claim">
			<h2>Claim Your New Choosatron</h2>

			<div class="alert alert-danger" ng-show="vm.errors">
				<strong><span class="glyphicon glyphicon-exclamation-sign"></span> Sorry!</strong>
				<ul>
					<li ng-repeat="error in vm.errors">{{ error }}</li>
				</ul>
			</div>

			<pre ng-show="vm.coreId">{{ vm.coreIdMsg }}</pre>
			<pre ng-hide="vm.coreId">Chatting with your Choosatron...</pre>

			<p>
				<button type="button" class="btn btn-primary" ng-click="vm.claim()" ng-show="vm.coreId">Claim It!</button>
				<button type="button" class="btn btn-link" ng-click="vm.cancel()">Cancel</button>
			</p>
		</div>


		<div class="animate-switch" ng-switch-when="state_connect">
			<h2>Connect to WiFi</h2>

			<input class="form-control" ng-model="vm.creds.ssid" placeholder="WiFi Network Name (SSID)" />
			<div class="radio">
				<label><input type="radio" ng-model="vm.creds.security" ng-value="0">No security</label>
			</div>
			<div class="radio">
				<label><input type="radio" ng-model="vm.creds.security" ng-value="1">WEP</label>
			</div>
			<div class="radio">
				<label><input type="radio" ng-model="vm.creds.security" ng-value="2">WPA</label>
			</div>
			<div class="radio">
				<label><input type="radio" ng-model="vm.creds.security" ng-value="3" checked>WPA2</label>
			</div>

			<input ng-show="vm.security != '0'" class="form-control" ng-model="vm.creds.password" placeholder="WiFi Password" />

			<hr>

			<p>
				<button type="button" class="btn btn-primary" ng-click="vm.connect()">Connect Your Choosatron</button>
				<button type="button" class="btn btn-link" ng-click="vm.cancel()">Cancel</button>
			</p>

			<div ng-show="vm.wifiMsg">
				<pre>{{ vm.wifiMsg }}</pre>
			</div>
		</div>

	</div>

	<!-- <span class="label label-warning">Cloud Account Required for WiFi</span>

	<div class="panel" ng-class="{'active': vm.openCloudAuth}">
		<ng-include src="'templates/cloud-auth-modal.view.html'"></ng-include>
	</div> -->

</div>
