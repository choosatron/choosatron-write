<div ng-controller="CloudAuthModalCtrl as vm">
	<form name="cloud_auth_form" novalidate>
		<div ng-show="vm.authStatus.remoteState == 'idle' && vm.authStatus.status !== 'success'">
			<p ng-show="vm.authStatus.error">{{ vm.authStatus.error.message }}</p>

			<div class="form-group">
				<div class="input-group">
					<span class="input-group-addon">
						<span class="fa fa-envelope"></span>
					</span>
					<input class="form-control" ng-model="vm.username" ng-model-options="{ getterSetter: true }" placeholder="Email" type="email" name="email" required />
					<div class="error" ng-show="cloud_auth_form.email.$dirty && cloud_auth_form.email.$invalid">
						<small class="error" ng-show="cloud_auth_form.email.$error.required">
							A profile name is required.
						</small>
					</div>
				</div>
			</div>

			<div class="form-group">
				<div class="input-group">
					<span class="input-group-addon">
						<span class="fa fa-certificate"></span>
					</span>
					<input class="form-control" ng-model="vm.password" placeholder="Password" type="password" name="password" ng-minlength='6' ng-maxlength='18' required />
					<div class="error" ng-show="cloud_auth_form.password.$dirty && cloud_auth_form.password.$invalid">
						<small class="error" ng-show="cloud_auth_form.password.$error.required">
							A password is required.
						</small>
						<small class="error" ng-show="cloud_auth_form.password.$error.minlength">
							Your password must be at least 6 characters long.
						</small>
						<small class="error" ng-show="cloud_auth_form.password.$error.maxlength">
							Your password cannot be longer than 18 characters.
						</small>
					</div>
				</div>
			</div>

			<!-- <button class="btn btn-primary" ng-click="vm.loginToCloud()" ng-disabled="!clouth_auth_form.email.$valid || !clouth_auth_form.password.$valid">
			<span class="fa fa-key"></span> Login</button>
			<button class="btn btn-success" ng-click="vm.registerInCloud()" ng-disabled="!cloud_auth_form.email.$valid || !cloud_auth_form.password.$valid">
			<span class="fa fa-plus"></span> Create account</button>
			<button class="btn btn-link" ng-click="vm.cancelAuth()">Cancel</button> -->

			<button class="btn btn-primary" ng-click="vm.loginToCloud()">
			<span class="fa fa-key"></span> Login</button>
			<button class="btn btn-success" ng-click="vm.registerInCloud()">
			<span class="fa fa-plus"></span> Create account</button>
			<button class="btn btn-link" ng-click="vm.cancelAuth()">Cancel</button>

		</div>

		<div ng-show="vm.authStatus.remoteState == 'working'">
			<p>Talking to the clouds...</p>
		</div>

		<div ng-show="vm.authStatus.status == 'success'">
			<p>{{vm.info.message}}</p>
			<button class="btn btn-success" ng-click="vm.cancelAuth()">Continue</button>
		</div>
	</form>
</div>
